# 高级数据结构

## 并查集

若某个家族人员过于庞大，要判断两个人是否是亲戚，确实很不容易。根据某个亲戚关系图，现在任意给出两个人，判断其是否具有亲戚关系。规定：*x*和*y*是亲戚，*y*和*z*是亲戚，那么*x*和*z*也是亲戚。如果*x*和*y*是亲戚，那么*x*的亲戚都是*y*的亲戚，*y*的亲戚也都是*x*的亲戚。

那么如何快速判断两个人是否是亲戚呢？

可以使用并查集快速判断两人是否有亲戚关系。

并查集是一种树形数据结构，用于处理一些不相交集合的合并及查询问题。创建并查集只需要三个步骤。

**算法步骤：**

1. 初始化。把每个点所在集合初始化为其自身。
2. 查找。查找两个元素所在的集合，即找祖宗。
3. 合并。如果两个元素的集合号不同，将两个元素合并为一个集合。

**注意：**

查找时，递归找祖宗，祖宗集合号等于本身时停止。回归时，把查找路径上的所有节点统一为祖宗的集合号。

合并时，只需要把一个元素的祖宗集合号改为另一个元素的祖宗集合号。“**擒贼先擒王**”，只改祖宗即可！

假设现在有7个人，通过输入亲戚关系（9个亲戚关系分别为：2—7, 4—5, 3—7, 4—7, 3—4, 5—7, 5—6, 2—3, 1—2），创建并查集。

**算法时间复杂度分析**

- 初始化：$O(n)$
- 查找：$O(logn)$
- 合并：$O(1)$













