# 字符串

## 字典树

 字典树，又称Trie、单词查找树，是一种树形结构，也是哈希树的一种变种，主要用于统计、排序和存储大量的字符串（但不限于字符串），经常被搜索引擎系统用于文本词频统计。

 字典树利用字符串的公共前缀来减少查询时间，最大限度地减少无谓的字符串比较，查询效率比哈希树高。

例如，`bee`是一个单词，`beer`也是一个单词，可以在每个单词结束的位置都加一个`end[]`标记，表示从根到这里有一个单词。

![image-20220913151613420](https://victor-gx.oss-cn-beijing.aliyuncs.com/img/2022/DSA/202209131516473.png)

### 字典树的插入

插入操作指将一个字符串插入字典树中。字典树可以采用数组或链表存储，这里采用数组存储实现静态链表。

![image-20220913151651642](https://victor-gx.oss-cn-beijing.aliyuncs.com/img/2022/DSA/202209131516676.png)

1. 插入一个单词`s=“bike”`，首先将字符转换为数字，`s[0]–‘a’=1`，判断`trie[1][1]`为`0`，令`trie[1][1]=2`，相当于创建一个新的节点（节点的存储下标为`2`）

![image-20220913151730248](https://victor-gx.oss-cn-beijing.aliyuncs.com/img/2022/DSA/202209131517284.png)

![image-20220913151739701](https://victor-gx.oss-cn-beijing.aliyuncs.com/img/2022/DSA/202209131517743.png)

![image-20220913151747359](https://victor-gx.oss-cn-beijing.aliyuncs.com/img/2022/DSA/202209131517422.png)

### 字典树的查找

在字典树中查找一个字符串是否存在，则和插入操作一样，首先将字符转换为数字，在字典树中查找，若查找的位置为0，则说明不存在，否则继续向下查找；在字符串处理完毕后，判断此处是否有单词结束标记，若有，则查找成功。

![image-20220913151815681](https://victor-gx.oss-cn-beijing.aliyuncs.com/img/2022/DSA/202209131518756.png)

### 字典树的应用

1. 字符串检索。事先将字符串（字典）存储到Trie，查找字符串、出现的频率和搜索引擎的热门查询。
2. 前缀统计。统计一个字符串所有前缀单词的个数，只需统计从根到叶子路径上单词出现的个数，也可以判断一个单词是否为另一个单词的前缀。
3. 最长公共前缀。两个字符串的最长公共前缀的长度就是它们所在节点最近公共祖先到根的长度。
4. 排序。利用字典树进行串排序，对字典树先序遍历，输出的相应字符串便是按字典序排序的结果。
5. 作为其他数据结构与算法的辅助结构，例如后缀树、AC自动机等。